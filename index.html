<!DOCTYPE html>
<html>
    <head>
        <title>泽彬的个人简历</title>
        <script src="//at.alicdn.com/t/font_8d5l8fzk5b87iudi.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.3/css/swiper.min.css">
        <link rel="stylesheet" href="./loading.css">
        <link rel="stylesheet" href="./style.css">
        <style type="text/css">
            .icon {
               width: 1em; height: 1em;
               vertical-align: -0.15em;
               fill: currentColor;
               overflow: hidden;
            }
        </style>
    </head>
    <body>
        <div id="siteWelcome" class="site-welcome active">
            <div class="loading"></div>
        </div>
        <div id="topNavBar" class="topNavBar">
            <div class="topNavBar-inner clearfix">
                <a href="#" alt="logo" class="logo">
                        <span class="rs">RS</span><span class="card">card</span>
                    </a>
                    <nav>
                        <ul class="clearfix">
                            <li class="menuTrigger"><a href="#userCard">关于</a></li>
                            <li class="menuTrigger"><a href="#skills">技能</a></li>
                            <li class="menuTrigger">
                                <a href="#portfolio">作品</a>
                                <ul class="submenu">
                                    <li>作品1</li>
                                    <li>作品2</li>
                                    <li>作品3</li>
                                </ul>
                            </li>
                            <li class="menuTrigger">
                                <a href="#">博客</a>
                                <ul class="submenu">
                                    <li>博客1</li>
                                    <li>博客2</li>
                                    <li>博客3</li>
                                </ul>
                            </li>
                            <li class="menuTrigger"><a href="#">日历</a></li>
                            <li class="menuTrigger"><a href="#">联系方式</a></li>
                            <li class="menuTrigger"><a href="#">其他</a></li>
                        </ul>
                    </nav>
            </div> 
        </div>
        <div class="banner" style="background-image: url(./img/rs-cover-2-2-1-1.jpg)">
            <div class="mask"></div>
        </div>
        <main data-x id="userCard">
            <div class="userCard" >
                <div class="pictureAndText clearfix">
                    <div class="picture">
                        <img src="./img/IMG_0018.JPG" width=240px; height=345; alt="头像">
                    </div>
                    <div class="text">
                        <span class="welcome">
                            HELLO
                            <span class="triangle"></span>
                        </span> 
                        <h1>宣泽彬</h1>
                        <h2>未来的前端工程师</h2>
                        <hr>
                        <dl>
                            <dt>年龄</dt>
                            <dd>20</dd>
                            <dt>所在城市</dt>
                            <dd>广州</dd>
                            <dt>邮箱</dt>
                            <dd>xuanzebin@126.com</dd>
                            <dt>手机</dt>
                            <dd>123456789</dd>
                        </dl>
                    </div>
                </div>
                <footer class="media">
                    <a href="#">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-weibo"></use>
                        </svg>
                    </a>
                    <a href="#">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-twitter"></use>
                        </svg>
                    </a>
                    <a href="#">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-qq"></use>
                        </svg>
                    </a>
                    <a href="#">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-weixin"></use>
                        </svg>
                    </a>
                    <a href="#">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-github"></use>
                        </svg>
                    </a>
                </footer>
            </div>
            <p class="downloadResumeWrapper">
                <a href="./resume.pdf" class="downloadResume" target="_blank" download>下载 PDF 简历</a>
            </p>
            <p class="selfIntroduce">你好，我叫宣泽彬。<br>目前正在努力学习前端！</p>
        </main>
        <section data-x id="skills" class="skills">
            <h2>技能</h2>
            <ol class="clearfix">
              <li> <h3>HTML 5 &amp; CSS 3</h3>
                  <div class="progressBar">
                      <div class="progress" style="width:70%;">
                      </div>
                  </div>
              </li>
              <li><h3>JavaScript</h3> 
                <div class="progressBar">
                        <div class="progress" style="width:80%;">
                        </div>
                </div>
              </li>
              <li><h3>jQuery</h3>
                <div class="progressBar">
                        <div class="progress" style="width:60%;">
                        </div>
                </div>
              </li>
              <li><h3>Vue</h3>
                <div class="progressBar">
                        <div class="progress" style="width:60%;">
                        </div>
                </div>
              </li>
              <li><h3>React</h3>
                <div class="progressBar">
                        <div class="progress" style="width:10%;">
                        </div>
                </div>
              </li>
              <li><h3>HTTP</h3>
                <div class="progressBar">
                        <div class="progress" style="width:70%;">
                        </div>
                </div>
              </li>
            </ol>
        </section>
        <section data-x id="portfolio" class="portfolio">
            <h2>作品集</h2>
            <div class="slidesWrapper">
                <div class="swiper-container">
                    <!-- Additional required wrapper -->
                    <div class="swiper-wrapper">
                        <!-- Slides -->
                        <img class="swiper-slide" src="./img/works/nav-keyboard.jpg">
                        <img class="swiper-slide" src="./img/works/canvas.jpg">
                        <img class="swiper-slide" src="./img/works/apple-style-slides.jpg">
                    </div>
                    <!-- If we need pagination -->
                    <div class="swiper-pagination"></div>
                
                    <!-- If we need navigation buttons -->
                
                    <!-- If we need scrollbar
                    <div class="swiper-scrollbar"></div> -->
                </div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </section>
    </body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.3/js/swiper.min.js"></script>
    <script>
        var mySwiper = new Swiper ('.swiper-container', {
        //   // Optional parameters
        //   direction: 'vertical',
          autoplay:{
              delay:3000,
              stopOnLastSlide: false,
              disableOnInteraction: true,
          },
          loop: true,
      
          // If we need pagination
          pagination: {
            el: '.swiper-pagination',
          },
      
          // Navigation arrows
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
      
        //   // And if we need scrollbar
        //   scrollbar: {
        //     el: '.swiper-scrollbar',
        //   },
        })
        $('.slidesWrapper').on('mouseenter',()=>{
            mySwiper.autoplay.stop();
        })
        $('.slidesWrapper').on('mouseleave',()=>{
            mySwiper.autoplay.start();
        })
    </script>
    <script>
        setTimeout(function(){siteWelcome.classList.remove('active')},1000)
        setTimeout(function(){
            onSet()
            topNavBarOnSet()
        },1000)
        let pageHeight=document.documentElement.clientHeight
        window.onresize=function () {
            pageHeight=document.documentElement.clientHeight
            console.log(pageHeight)
        }
        window.onscroll=function(listenToScroll) {
            if (window.scrollY>0) {
                topNavBar.classList.add('active')
            } else {
                topNavBar.classList.remove('active')
            }
            onSet()
        }
        function topNavBarOnSet() {
            topNavBar.classList.add('onset')
        }
        function onSet() {
            let specialTags=document.querySelectorAll('[data-x]')
            let minTag=0
            for (i=1;i<specialTags.length;i++) {
                // if (specialTags[i].getBoundingClientRect().top>0 && (window.scrollY+pageHeight)>=(specialTags[i].offsetTop+specialTags[i].clientHeight/2))
                if (Math.abs(specialTags[i].offsetTop-window.scrollY)<Math.abs(specialTags[minTag].offsetTop-window.scrollY)+380)
                minTag=i 
            }
            specialTags[minTag].classList.add('onset')
            let aTags=document.querySelector('a[href="#'+specialTags[minTag].id+'"]')
            let liTags=aTags.parentNode
            let liTagsSibling=liTags.parentNode.children
            for (let i=0;i<liTagsSibling.length;i++) {
                liTagsSibling[i].classList.remove('highlight')
            }
            liTags.classList.add('highlight')
            if (window.scrollY===0) liTags.classList.remove('highlight')
        }
        


        let liTags=document.getElementsByClassName('menuTrigger')
        for (let i=0;i<liTags.length;i++) {
            liTags[i].onmouseenter =function(mouseEnter) {
                let liTarget=mouseEnter.currentTarget
                liTarget.classList.add('active')
            }
            liTags[i].onmouseleave=function(mouseLeave) {
                let liTarget=mouseLeave.currentTarget
                liTarget.classList.remove('active')
            }
        }
        let aTags=document.querySelectorAll('nav>ul>li>a')



        function animate(time) {
            requestAnimationFrame(animate);
            TWEEN.update(time);
        }
        requestAnimationFrame(animate);
        for (let i=0;i<aTags.length;i++) {
            aTags[i].onclick=function(aTagsOnclick) {
                aTagsOnclick.preventDefault()
                let aTarget=aTagsOnclick.currentTarget
                let aTagId=document.querySelector(aTarget.getAttribute('href'))
                var targetTop=aTagId.offsetTop-100
                var currentTop=window.scrollY
                var coords = {y:currentTop}; 
                var slideTime=Math.abs(targetTop-currentTop)/1.3
                if (slideTime<400) {slideTime=400} else {if (slideTime>800) slideTime=800}
                console.log(slideTime)
                var tween = new TWEEN.Tween(coords)
                .to({y:targetTop}, slideTime) 
                .easing(TWEEN.Easing.Quadratic.InOut) 
                .onUpdate(function() { 
                    window.scrollTo(0,coords.y)
                })
                .start();
            }
        }
    </script>
</html>